# Why is API version not applied when generating Python SDK with emitter?

## question 
Hi team,
 
I have this TypeSpec PR: https://github.com/Azure/azure-rest-api-specs/blob/56fa17886b1cc3ed77c865e43f07152290367aac/specification/cognitiveservices/Language.AnalyzeText/main.tsp#L41, where I’ve added the `@versioned` decorator in `main.tsp` with multiple versions defined in an enum.
 
However, the generated Python SDK does not include any version information — for example, in `_operations.py` there are no `@api_version_validation` decorators on the methods (see the PR link here: [[Textanalytics] Textanalytics sdk 20250515prevew by amber-Chen-86 · Pull Request #42685 · Azure/azure-sdk-for-python](https://github.com/Azure/azure-sdk-for-python/pull/42685)).

The same TypeSpec setup works correctly for the .NET SDK, where versioning is properly recognized.
Do you know what might cause the Python emitter not to pick up the versioned information? Could this be related to having a different package name/namespace for Python?
Thank you so much!

## answer
The reason you're not seeing @api_version_validation decorators in the generated Python SDK is because all your @added decorators are applied to models. In the Python emitter, we only apply version validation to operations and parameters, not models. This is intentional — models are parsed by the service, and we rely on the service to return appropriate error messages if a model is not valid for a given version.
The @api_version_validation decorators in Python SDK are used to provide runtime validation for operations or parameters that are version-specific. For example, if an operation like analyzeThis is introduced in API version 2025, and a customer configures the client with api_version="2024", without validation they would get a 404 error. With the decorator, they instead get a clearer message like: “This operation is only available after API version 2025 or higher.”
So yes, when you see versioning reflected in the Python SDK, it's typically because entire operations or parameters were added in a new version — not just models. Since your language-text API has the same routes across all versions and only models are versioned, it makes sense that you're not seeing version-specific validation in the Python SDK.

# Pyright error in auto-generated _serialization.py (other packages) blocks my PR

## question 
Hi team,

I’m hitting a Pyright failure in CI while merging a Python SDK PR. The error points to auto-generated files named `_serialization.py` in other packages (not the one I’m modifying):
```
error: Cannot access attribute "_validation" for class "function"
```
Details: https://dev.azure.com/azure-sdk/public/_build/results?buildId=5256165&view=logs&j=b70e5e73-bbb6-5567-0939-8415943fadb9&t=56d4e2e6-c43b-527c-bad7-234ebe7429dd&l=490
```
/mnt/vss/_work/1/s/sdk/cognitivelanguage/azure-ai-language-questionanswering/azure/ai/language/questionanswering/_serialization.py
  /mnt/vss/_work/1/s/sdk/cognitivelanguage/azure-ai-language-questionanswering/azure/ai/language/questionanswering/_serialization.py:1586:52 - error: Cannot access attribute "_validation" for class "function"
    Attribute "_validation" is unknown (reportFunctionMemberAccess)
  /mnt/vss/_work/1/s/sdk/cognitivelanguage/azure-ai-language-questionanswering/azure/ai/language/questionanswering/_serialization.py:1587:49 - error: Cannot access attribute "_validation" for class "function"
    Attribute "_validation" is unknown (reportFunctionMemberAccess)
  /mnt/vss/_work/1/s/sdk/cognitivelanguage/azure-ai-language-questionanswering/azure/ai/language/questionanswering/_serialization.py:1593:34 - error: Cannot assign to attribute "additional_properties" for class "object"
    Attribute "additional_properties" is unknown (reportAttributeAccessIssue)
/mnt/vss/_work/1/s/sdk/cognitivelanguage/azure-ai-language-questionanswering/azure/ai/language/questionanswering/authoring/__init__.py
  /mnt/vss/_work/1/s/sdk/cognitivelanguage/azure-ai-language-questionanswering/azure/ai/language/questionanswering/authoring/__init__.py:24:1 - warning: Operation on "__all__" is not supported, so exported symbol list may be incorrect (reportUnsupportedDunderAll)
/mnt/vss/_work/1/s/sdk/cognitivelanguage/azure-ai-language-questionanswering/azure/ai/language/questionanswering/authoring/_serialization.py
  /mnt/vss/_work/1/s/sdk/cognitivelanguage/azure-ai-language-questionanswering/azure/ai/language/questionanswering/authoring/_serialization.py:1586:52 - error: Cannot access attribute "_validation" for class "function"
    Attribute "_validation" is unknown (reportFunctionMemberAccess)
  /mnt/vss/_work/1/s/sdk/cognitivelanguage/azure-ai-language-questionanswering/azure/ai/language/questionanswering/authoring/_serialization.py:1587:49 - error: Cannot access attribute "_validation" for class "function"
    Attribute "_validation" is unknown (reportFunctionMemberAccess)
  /mnt/vss/_work/1/s/sdk/cognitivelanguage/azure-ai-language-questionanswering/azure/ai/language/questionanswering/authoring/_serialization.py:1593:34 - error: Cannot assign to attribute "additional_properties" for class "object"
    Attribute "additional_properties" is unknown (reportAttributeAccessIssue)
/mnt/vss/_work/1/s/sdk/cognitivelanguage/azure-ai-language-questionanswering/azure/ai/language/questionanswering/authoring/_operations/__init__.py
  /mnt/vss/_work/1/s/sdk/cognitivelanguage/azure-ai-language-questionanswering/azure/ai/language/questionanswering/authoring/_operations/__init__.py:18:1 - warning: Operation on "__all__" is not supported, so exported symbol list may be incorrect (reportUnsupportedDunderAll)
/mnt/vss/_work/1/s/sdk/cognitivelanguage/azure-ai-language-questionanswering/azure/ai/language/questionanswering/authoring/aio/__init__.py
  /mnt/vss/_work/1/s/sdk/cognitivelanguage/azure-ai-language-questionanswering/azure/ai/language/questionanswering/authoring/aio/__init__.py:21:1 - warning: Operation on "__all__" is not supported, so exported symbol list may be incorrect (reportUnsupportedDunderAll)
/mnt/vss/_work/1/s/sdk/cognitivelanguage/azure-ai-language-questionanswering/azure/ai/language/questionanswering/authoring/aio/_operations/__init__.py
  /mnt/vss/_work/1/s/sdk/cognitivelanguage/azure-ai-language-questionanswering/azure/ai/language/questionanswering/authoring/aio/_operations/__init__.py:18:1 - warning: Operation on "__all__" is not supported, so exported symbol list may be incorrect (reportUnsupportedDunderAll)

```

I merged `main` to pick up the latest changes, but the issue persists. 
Any suggestions on how to resolve this? Thanks a lot!
 
For reference: the PR link: [[Conv authoring] python sdk 20250515preview by amber-Chen-86 · Pull Request #42149 · Azure/azure-sdk-for-python](https://github.com/Azure/azure-sdk-for-python/pull/42149)

## answer
your PR is about azure-ai-language-conversations while the CI failure is caused by another package azure-ai-language-questionanswering so the failure is not related with your PR. You could declare the context in your PR.