# Python client operation groups

## question
Hi Language - Python,

We are trying to implement a feedback from the Python SDK architecture review for our service regarding moving from multiple clients to operation groups.

As you can see in the screenshot below, the code samples are invalid.

Original code from client.tsp:
```
// === Ingestion Management ===
#suppress "@azure-tools/typespec-azure-core/use-standard-operations" "This is an existing service operation."
@operationGroup
interface Ingestion {
  // Ingestion operations management
  deleteIngestionOperation is IngestionOperations.delete;
  deleteAllIngestionOperations is IngestionOperations.deleteAll;
  getIngestionOperation is IngestionOperations.get;
  getIngestionOperations is IngestionOperations.list;

  // Ingestion runs operations
  createIngestionRun is Ingestions.IngestionRuns.create;
  getIngestionRun is Ingestions.IngestionRuns.get;
  getIngestionRuns is Ingestions.IngestionRuns.list;
...
```
And in the generated code sample, it uses `client.create` to call the operation `createIngestionRun`.

I expect something like `client.ingestions.create_ingestion_run` rather than `client.create`

I am not sure if I am missing something to generate the SDK with operation groups enabled.

Is this a bug?

Typespec generating from https://github.com/Azure/azure-rest-api-specs/pull/36381/files#diff-4f56a9c88a1f3e90c59eb780c8b240fa2f2680422d441564349b826632de3f5c

## answer
do you guys explicitly want ingestions to be an initializable subclient on a main client, or do you want it to be a non-initializable subclient. The first case would allow you to directly initialize it, like in the sample code. For the second case, which is what `@operationGroup` gives you, you would instead call it like this `client.ingestions.create_ingestion_run`.

If you want the first, I don't think your tsp is setup for this because it's not grouped by namespace in the regular typespec. For the second, you would just need to add
```
@client({
  name: "PlanetaryComputerClient",
  service: Microsoft.PlanetaryComputer,
})
namespace Customizations;
```
On top of your namespace in `client.tsp`. This would output an sdk where there was one top-level, initializable client, and each `@operationGroup` decorated interface would be its own non-initializable subclient, i.e. `client.ingestions.create_ingestion_run`
